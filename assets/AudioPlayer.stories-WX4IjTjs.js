import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r}from"./iframe-BMG7cCGY.js";import{S as E}from"./Slider-Cfs4k3jG.js";import{c as C}from"./utils-CDN07tui.js";import{C as F}from"./Combobox-B-W19nff.js";import{V as L}from"./volume-2-B2qs6gw3.js";import{V as X}from"./volume-x-BX2c_9lR.js";import{S as z,a as G}from"./skip-forward-CIPlSP5w.js";import{P as J}from"./pause-CvtseSP7.js";import{P as K}from"./play-D7ghQLKp.js";import"./preload-helper-PPVm8Dsz.js";import"./chevrons-up-down-IZi-VSvg.js";import"./createLucideIcon-11Koirjv.js";import"./index-pZkA2wgP.js";import"./proxy-BFHmY9N3.js";import"./search-Bhuei--_.js";const V=({src:h,title:o,artist:M,coverArt:v,autoPlay:y=!1,className:q})=>{const s=r.useRef(null),[u,l]=r.useState(!1),[g,b]=r.useState(0),[w,R]=r.useState(0),[j,p]=r.useState(1),[n,N]=r.useState(!1),[x,_]=r.useState(1);r.useEffect(()=>{const e=s.current;if(!e)return;y&&e.play().catch(()=>l(!1));const a=()=>b(e.currentTime),i=()=>R(e.duration),P=()=>l(!0),T=()=>l(!1),A=()=>l(!1);return e.addEventListener("timeupdate",a),e.addEventListener("durationchange",i),e.addEventListener("play",P),e.addEventListener("pause",T),e.addEventListener("ended",A),()=>{e.removeEventListener("timeupdate",a),e.removeEventListener("durationchange",i),e.removeEventListener("play",P),e.removeEventListener("pause",T),e.removeEventListener("ended",A)}},[y]);const $=[{value:"0.5",label:"Speed: 0.5x"},{value:"1",label:"Speed: 1.0x"},{value:"1.5",label:"Speed: 1.5x"},{value:"2",label:"Speed: 2.0x"},{value:"download",label:"Download"}],H=()=>{s.current&&(u?s.current.pause():s.current.play())},I=e=>{s.current&&(s.current.currentTime=e,b(e))},O=e=>{const a=e;s.current&&(s.current.volume=a,p(a),N(a===0))},U=()=>{s.current&&(s.current.muted=!n,N(!n),n?(p(1),s.current.volume=1):p(0))},S=e=>{s.current&&(s.current.currentTime+=e)},B=e=>{s.current&&(s.current.playbackRate=e,_(e))},k=e=>{if(isNaN(e))return"0:00";const a=Math.floor(e/60),i=Math.floor(e%60);return`${a}:${i.toString().padStart(2,"0")}`};return t.jsxs("div",{className:C("flex flex-col gap-4 p-4 rounded-2xl bg-surface-primary border border-border-primary shadow-sm w-full max-w-md",q),children:[t.jsx("audio",{ref:s,src:h}),t.jsxs("div",{className:"flex items-center gap-4",children:[v?t.jsx("div",{className:C("w-16 h-16 rounded-xl overflow-hidden bg-surface-secondary flex-shrink-0 shadow-inner",u&&"animate-pulse-slow"),children:t.jsx("img",{src:v,alt:o,className:"w-full h-full object-cover"})}):t.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-accent-blue to-purple-500 flex-shrink-0 flex items-center justify-center text-black font-bold text-xl shadow-inner",children:o?o[0]:t.jsx(L,{className:"text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-text-primary truncate",children:o||"Unknown Track"}),t.jsx("p",{className:"text-sm text-text-secondary truncate",children:M||"Unknown Artist"})]}),t.jsx("div",{className:"w-36",children:t.jsx(F,{items:$.map(e=>({...e,label:e.value!=="download"?`${e.label}${x===Number(e.value)?" âœ“":""}`:e.label})),value:String(x),onChange:e=>{if(e==="download"){window.open(h,"_blank");return}B(Number(e))},placeholder:"Options"})})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx(E,{value:g,min:0,max:w||100,step:.1,onValueChange:I,className:"py-2"}),t.jsxs("div",{className:"flex justify-between text-xs font-mono text-text-tertiary",children:[t.jsx("span",{children:k(g)}),t.jsx("span",{children:k(w)})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 group w-24",children:[t.jsx("button",{onClick:U,className:"text-text-secondary hover:text-text-primary transition-colors",children:n||j===0?t.jsx(X,{className:"w-4 h-4"}):t.jsx(L,{className:"w-4 h-4"})}),t.jsx(E,{value:n?0:j,min:0,max:1,step:.01,onValueChange:O,className:"w-full"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>S(-10),className:"text-text-secondary hover:text-text-primary transition-colors p-1",children:t.jsx(z,{className:"w-5 h-5"})}),t.jsx("button",{onClick:H,className:"w-12 h-12 rounded-full bg-text-primary text-surface-primary flex items-center justify-center hover:scale-105 active:scale-95 transition-all shadow-md",children:u?t.jsx(J,{className:"w-5 h-5"}):t.jsx(K,{className:"w-5 h-5 ml-0.5"})}),t.jsx("button",{onClick:()=>S(10),className:"text-text-secondary hover:text-text-primary transition-colors p-1",children:t.jsx(G,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"w-24 flex justify-end",children:t.jsxs("span",{className:"text-xs font-medium text-accent-blue bg-accent-blue/10 px-2 py-1 rounded-md",children:[x,"x"]})})]})]})};V.__docgenInfo={description:"",methods:[],displayName:"AudioPlayer",props:{src:{required:!0,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""},artist:{required:!1,tsType:{name:"string"},description:""},coverArt:{required:!1,tsType:{name:"string"},description:""},autoPlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const ue={title:"Data Display/AudioPlayer",component:V,parameters:{layout:"centered"},tags:[]},f="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",D="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?q=80&w=2070&auto=format&fit=crop",c={args:{src:f,title:"Synthwave Mix",artist:"SoundHelix",coverArt:D}},d={args:{src:f,title:"Podcast Episode 1",artist:"Tech Talk"}},m={args:{src:f,title:"AutoPlay Track",artist:"Demo Artist",coverArt:D,autoPlay:!0}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleAudio,
    title: "Synthwave Mix",
    artist: "SoundHelix",
    coverArt: sampleCover
  }
}`,...c.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleAudio,
    title: "Podcast Episode 1",
    artist: "Tech Talk"
  }
}`,...d.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleAudio,
    title: "AutoPlay Track",
    artist: "Demo Artist",
    coverArt: sampleCover,
    autoPlay: true
  }
}`,...m.parameters?.docs?.source}}};const pe=["Default","Minimal","AutoPlay"];export{m as AutoPlay,c as Default,d as Minimal,pe as __namedExportsOrder,ue as default};
