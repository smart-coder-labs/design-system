import{j as m}from"./jsx-runtime-u17CrQMm.js";import{r as y,R as x}from"./iframe-B9hmpDEG.js";import{c as T}from"./utils-CDN07tui.js";import{m as A}from"./proxy-Dckdfu8t.js";const h=({length:a=6,value:f="",onChange:p,onComplete:b,disabled:v=!1,error:j=!1,separator:q=m.jsx("span",{className:"text-text-tertiary font-bold",children:"-"}),groupSize:D=3,className:R,autoFocus:V=!1})=>{const u=y.useRef([]),[i,l]=y.useState(()=>{const e=Array(a).fill("");return f&&f.split("").forEach((t,s)=>{s<a&&(e[s]=t)}),e});y.useEffect(()=>{if(f!==void 0){const e=Array(a).fill("");f.split("").forEach((t,s)=>{s<a&&(e[s]=t)}),l(e)}},[f,a]),y.useEffect(()=>{V&&!v&&u.current[0]?.focus()},[V,v]);const c=e=>{u.current[e]&&u.current[e]?.focus()},N=(e,r)=>{const t=r.target.value;if(!/^\d*$/.test(t))return;let s=[...i];if(t.length>1){const d=t.split("").filter(g=>/\d/.test(g));let o=e;d.forEach(g=>{o<a&&(s[o]=g,o++)}),l(s);const w=s.join("");p?.(w),w.length===a?(b?.(w),u.current[a-1]?.blur()):c(Math.min(o,a-1));return}s[e]=t,l(s);const n=s.join("");p?.(n),t&&e<a-1&&c(e+1),n.length===a&&(b?.(n),e===a-1&&u.current[e]?.blur())},E=(e,r)=>{if(r.key==="Backspace"){if(r.preventDefault(),i[e]){const t=[...i];t[e]="",l(t),p?.(t.join(""))}else if(e>0){const t=[...i];t[e-1]="",l(t),p?.(t.join("")),c(e-1)}}else r.key==="ArrowLeft"&&e>0?(r.preventDefault(),c(e-1)):r.key==="ArrowRight"&&e<a-1&&(r.preventDefault(),c(e+1))},I=e=>{e.preventDefault();const t=e.clipboardData.getData("text").split("").filter(o=>/\d/.test(o)),s=[...i];let n=0;t.forEach(o=>{n<a&&(s[n]=o,n++)}),l(s);const d=s.join("");p?.(d),d.length===a?(b?.(d),u.current[a-1]?.blur()):c(Math.min(n,a-1))};return m.jsx("div",{className:T("flex items-center gap-2",R),children:Array.from({length:a}).map((e,r)=>m.jsxs(x.Fragment,{children:[r>0&&r%D===0&&q,m.jsx(A.div,{whileFocus:{scale:1.05,y:-2},transition:{type:"spring",stiffness:300,damping:30},children:m.jsx("input",{ref:t=>{u.current[r]=t},type:"text",inputMode:"numeric",maxLength:1,value:i[r],onChange:t=>N(r,t),onKeyDown:t=>E(r,t),onPaste:I,disabled:v,className:T("w-12 h-14 text-2xl text-center font-semibold rounded-xl border bg-surface-primary text-text-primary transition-all shadow-sm","focus:outline-none focus:ring-4 focus:ring-accent-blue/10 focus:border-accent-blue","disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-surface-secondary",j?"border-status-error text-status-error focus:border-status-error focus:ring-status-error/10":"border-border-primary")})})]},r))})};h.displayName="OTPInput";h.__docgenInfo={description:"",methods:[],displayName:"OTPInput",props:{length:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"6",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onComplete:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},error:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},separator:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:'<span className="text-text-tertiary font-bold">-</span>',computed:!1}},groupSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"3",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},autoFocus:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{h as O};
