import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as l}from"./iframe-vYzePaRW.js";import{c as x}from"./utils-CDN07tui.js";import{B as m}from"./Button-Bvw_y_KB.js";import{A as f}from"./index-4cmsJ5fh.js";import{m as g}from"./proxy-DMGrdN83.js";import{D as y}from"./download-DO7YiRJe.js";import{X as b}from"./x-qgr8oPc5.js";import{C as v}from"./chevron-left-Bevhuhkz.js";import{C as j}from"./chevron-right-C1IyBY8C.js";const k=({isOpen:r,images:s,currentIndex:i,onClose:n,onNext:c,onPrev:d,onIndexChange:a,className:w})=>{l.useEffect(()=>{if(!r)return;const t=p=>{p.key==="Escape"&&n(),p.key==="ArrowRight"&&h(),p.key==="ArrowLeft"&&u()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[r,i,n]),l.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]);const h=l.useCallback(()=>{c?c():a&&a((i+1)%s.length)},[i,s.length,c,a]),u=l.useCallback(()=>{d?d():a&&a((i-1+s.length)%s.length)},[i,s.length,d,a]),o=s[i];return e.jsx(f,{children:r&&e.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:x("fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm",w),onClick:n,children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-50 bg-gradient-to-b from-black/50 to-transparent",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"text-white/80 text-sm font-medium",children:[i+1," / ",s.length]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/10",onClick:()=>window.open(o.src,"_blank"),children:e.jsx(y,{className:"w-5 h-5"})}),e.jsx(m,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/10",onClick:n,children:e.jsx(b,{className:"w-6 h-6"})})]})]}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"ghost",className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white hover:bg-white/10 rounded-full p-2 h-12 w-12 z-50",onClick:t=>{t.stopPropagation(),u()},children:e.jsx(v,{className:"w-8 h-8"})}),e.jsx(m,{variant:"ghost",className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white hover:bg-white/10 rounded-full p-2 h-12 w-12 z-50",onClick:t=>{t.stopPropagation(),h()},children:e.jsx(j,{className:"w-8 h-8"})})]}),e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4 md:p-12",onClick:t=>t.stopPropagation(),children:[e.jsx(f,{mode:"wait",children:e.jsx(g.img,{src:o.src,alt:o.alt||`Image ${i+1}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:30},className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm select-none",draggable:!1},i)}),o.caption&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent text-center",children:e.jsx("p",{className:"text-white text-lg font-medium max-w-3xl mx-auto",children:o.caption})})]})]})})};k.__docgenInfo={description:"",methods:[],displayName:"Lightbox",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},images:{required:!0,tsType:{name:"Array",elements:[{name:"LightboxImage"}],raw:"LightboxImage[]"},description:""},currentIndex:{required:!0,tsType:{name:"number"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onNext:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrev:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onIndexChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{k as L};
