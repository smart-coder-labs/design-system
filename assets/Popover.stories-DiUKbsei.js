import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as o}from"./iframe-B3ue83QT.js";import{r as _}from"./index-Ddntd8DP.js";import{c as T}from"./utils-CDN07tui.js";import{B as H}from"./Button-DObt_mRa.js";import{L as y}from"./Label-BwNaakGx.js";import{I as b}from"./Input-B4a5b9hp.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CgS4P19c.js";import"./proxy-f4HTbMBa.js";import"./Text-Dhy74_-M.js";const V=o.createContext(null);function k(){const n=o.useContext(V);if(!n)throw new Error("Popover components must be used within Popover");return n}function P(...n){return t=>{n.forEach(r=>{r&&(typeof r=="function"?r(t):r.current=t)})}}function R({open:n,defaultOpen:t=!1,onOpenChange:r,children:h}){const[f,v]=o.useState(t),c=n??f,g=o.useCallback(l=>{n===void 0&&v(l),r?.(l)},[n,r]),s=o.useRef(null),p=o.useMemo(()=>({open:c,setOpen:g,triggerRef:s}),[c,g]);return e.jsx(V.Provider,{value:p,children:h})}const C=o.forwardRef(({asChild:n=!1,children:t,onClick:r,className:h,...f},v)=>{const{open:c,setOpen:g,triggerRef:s}=k(),p=P(v,s),l=d=>{r?.(d),!d.defaultPrevented&&g(!c)};return n&&o.isValidElement(t)?o.cloneElement(t,{ref:P(t.ref,p),onClick:d=>{t.props?.onClick?.(d),l(d)},className:T(t.props?.className,h),"aria-haspopup":"dialog","aria-expanded":c,...f}):e.jsx("button",{type:"button",ref:p,onClick:l,"aria-haspopup":"dialog","aria-expanded":c,className:h,...f,children:t})});C.displayName="PopoverTrigger";const E=o.forwardRef(({align:n="center",side:t="bottom",sideOffset:r=4,className:h,style:f,children:v,...c},g)=>{const{open:s,setOpen:p,triggerRef:l}=k(),d=o.useRef(null),q=P(g,d),[L,I]=o.useState({top:0,left:0}),x=o.useCallback(()=>{const m=l.current,u=d.current;if(!m||!u)return;const a=m.getBoundingClientRect(),i=u.getBoundingClientRect();let w=0,N=0;t==="left"||t==="right"?(w=a.top,n==="center"?w=a.top+a.height/2-i.height/2:n==="end"&&(w=a.bottom-i.height),N=t==="left"?a.left-i.width-r:a.right+r):(N=a.left,n==="center"?N=a.left+a.width/2-i.width/2:n==="end"&&(N=a.right-i.width),w=t==="top"?a.top-i.height-r:a.bottom+r);const M=Math.max(8,Math.min(N,window.innerWidth-i.width-8)),F=Math.max(8,Math.min(w,window.innerHeight-i.height-8));I({top:F,left:M})},[n,t,r,l]);return o.useLayoutEffect(()=>{s&&x()},[s,x]),o.useEffect(()=>{if(!s)return;const m=()=>x(),u=()=>x();return window.addEventListener("scroll",m,!0),window.addEventListener("resize",u),()=>{window.removeEventListener("scroll",m,!0),window.removeEventListener("resize",u)}},[s,x]),o.useEffect(()=>{if(!s)return;const m=a=>{const i=a.target;d.current?.contains(i)||l.current?.contains(i)||p(!1)},u=a=>{a.key==="Escape"&&p(!1)};return document.addEventListener("mousedown",m),document.addEventListener("keydown",u),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",u)}},[s,p]),s?_.createPortal(e.jsx("div",{ref:q,"data-state":s?"open":"closed",className:T("z-50 w-72 rounded-xl border border-border-primary bg-surface-glass backdrop-blur-xl p-4 text-text-primary shadow-lg outline-none",h),style:{position:"fixed",top:L.top,left:L.left,...f},...c,children:v}),document.body):null});E.displayName="PopoverContent";R.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{open:{required:!1,tsType:{name:"boolean"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};C.__docgenInfo={description:"",methods:[],displayName:"PopoverTrigger",props:{asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};E.__docgenInfo={description:"",methods:[],displayName:"PopoverContent",props:{align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:"",defaultValue:{value:'"center"',computed:!1}},side:{required:!1,tsType:{name:"union",raw:'"top" | "bottom" | "left" | "right"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'}]},description:"",defaultValue:{value:'"bottom"',computed:!1}},sideOffset:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4",computed:!1}}}};const Q={title:"Overlays/Popover",component:R,tags:[]},j={render:()=>e.jsxs(R,{children:[e.jsx(C,{asChild:!0,children:e.jsx(H,{variant:"secondary",children:"Open Popover"})}),e.jsx(E,{className:"w-80",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium leading-none",children:"Dimensions"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Set the dimensions for the layer."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx(y,{htmlFor:"width",children:"Width"}),e.jsx(b,{id:"width",defaultValue:"100%",className:"col-span-2 h-8"})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx(y,{htmlFor:"maxWidth",children:"Max. width"}),e.jsx(b,{id:"maxWidth",defaultValue:"300px",className:"col-span-2 h-8"})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx(y,{htmlFor:"height",children:"Height"}),e.jsx(b,{id:"height",defaultValue:"25px",className:"col-span-2 h-8"})]}),e.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[e.jsx(y,{htmlFor:"maxHeight",children:"Max. height"}),e.jsx(b,{id:"maxHeight",defaultValue:"none",className:"col-span-2 h-8"})]})]})]})})]})};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  render: () => <Popover>
            <PopoverTrigger asChild>
                <Button variant="secondary">Open Popover</Button>
            </PopoverTrigger>
            <PopoverContent className="w-80">
                <div className="grid gap-4">
                    <div className="space-y-2">
                        <h4 className="font-medium leading-none">Dimensions</h4>
                        <p className="text-sm text-text-secondary">
                            Set the dimensions for the layer.
                        </p>
                    </div>
                    <div className="grid gap-2">
                        <div className="grid grid-cols-3 items-center gap-4">
                            <Label htmlFor="width">Width</Label>
                            <Input id="width" defaultValue="100%" className="col-span-2 h-8" />
                        </div>
                        <div className="grid grid-cols-3 items-center gap-4">
                            <Label htmlFor="maxWidth">Max. width</Label>
                            <Input id="maxWidth" defaultValue="300px" className="col-span-2 h-8" />
                        </div>
                        <div className="grid grid-cols-3 items-center gap-4">
                            <Label htmlFor="height">Height</Label>
                            <Input id="height" defaultValue="25px" className="col-span-2 h-8" />
                        </div>
                        <div className="grid grid-cols-3 items-center gap-4">
                            <Label htmlFor="maxHeight">Max. height</Label>
                            <Input id="maxHeight" defaultValue="none" className="col-span-2 h-8" />
                        </div>
                    </div>
                </div>
            </PopoverContent>
        </Popover>
}`,...j.parameters?.docs?.source}}};const X=["Default"];export{j as Default,X as __namedExportsOrder,Q as default};
