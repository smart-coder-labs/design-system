import{j as s}from"./jsx-runtime-u17CrQMm.js";import{r as t}from"./iframe-B3ue83QT.js";import{S as _}from"./Slider-ChbKgg8i.js";import{c as Z}from"./utils-CDN07tui.js";import{L as ee}from"./loader-circle-B63oiHnk.js";import{P as F}from"./play-DSP488BU.js";import{A as se}from"./index-Cd7JNL-O.js";import{m as te}from"./proxy-f4HTbMBa.js";import{P as ae}from"./pause-CByzamFg.js";import{V as re}from"./volume-x-CgToq6qg.js";import{V as ne}from"./volume-2-cVr_oTGp.js";import{c as oe}from"./createLucideIcon-DEqxIg5F.js";import{M as le}from"./maximize-BXaPl4-P.js";import"./preload-helper-PPVm8Dsz.js";const ie=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],ce=oe("minimize",ie),A=({src:z,poster:$,autoPlay:y=!1,loop:H=!1,muted:w=!1,className:O})=>{const a=t.useRef(null),N=t.useRef(null),f=t.useRef(null),[n,h]=t.useState(!1),[b,j]=t.useState(0),[L,U]=t.useState(0),[k,l]=t.useState(1),[o,g]=t.useState(w),[S,V]=t.useState(!1),[W,v]=t.useState(!0),[M,P]=t.useState(!0),[E,C]=t.useState(!1);t.useEffect(()=>{const e=a.current;if(!e)return;y&&e.play().catch(()=>{h(!1)}),l(e.volume),g(e.muted);const r=()=>j(e.currentTime),i=()=>U(e.duration),B=()=>h(!0),q=()=>h(!1),D=()=>C(!0),I=()=>{C(!1),P(!1)},R=()=>P(!1);return e.addEventListener("timeupdate",r),e.addEventListener("durationchange",i),e.addEventListener("play",B),e.addEventListener("pause",q),e.addEventListener("waiting",D),e.addEventListener("playing",I),e.addEventListener("loadeddata",R),()=>{e.removeEventListener("timeupdate",r),e.removeEventListener("durationchange",i),e.removeEventListener("play",B),e.removeEventListener("pause",q),e.removeEventListener("waiting",D),e.removeEventListener("playing",I),e.removeEventListener("loadeddata",R)}},[y]);const X=()=>{v(!0),f.current&&clearTimeout(f.current),n&&(f.current=setTimeout(()=>{v(!1)},2e3))},G=()=>{n&&v(!1)},x=t.useCallback(()=>{a.current&&(n?a.current.pause():a.current.play())},[n]),J=t.useCallback(()=>{a.current&&(a.current.muted=!o,g(!o),o?(l(1),a.current.volume=1):l(0))},[o]),K=e=>{const r=e;a.current&&(a.current.volume=r,l(r),g(r===0))},Q=e=>{const r=e;a.current&&(a.current.currentTime=r,j(r))},Y=t.useCallback(()=>{document.fullscreenElement?(document.exitFullscreen(),V(!1)):(N.current?.requestFullscreen(),V(!0))},[]),T=e=>{const r=Math.floor(e/60),i=Math.floor(e%60);return`${r}:${i.toString().padStart(2,"0")}`};return s.jsxs("div",{ref:N,className:Z("relative group overflow-hidden bg-black rounded-xl shadow-lg",S?"w-full h-full rounded-none":"w-full aspect-video",O),onMouseMove:X,onMouseLeave:G,children:[s.jsx("video",{ref:a,src:z,poster:$,loop:H,muted:w,className:"w-full h-full object-contain",onClick:x}),(M||E)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx(ee,{className:"w-12 h-12 text-white animate-spin opacity-80"})}),!n&&!M&&!E&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 backdrop-blur-[2px] transition-opacity",children:s.jsx("button",{onClick:x,className:"w-16 h-16 flex items-center justify-center rounded-full bg-white/20 backdrop-blur-md hover:bg-white/30 hover:scale-110 transition-all duration-200 group/play",children:s.jsx(F,{className:"w-8 h-8 text-white fill-white ml-1"})})}),s.jsx(se,{children:W&&s.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 via-black/40 to-transparent",children:[s.jsx("div",{className:"mb-4 group/slider",children:s.jsx(_,{value:b,min:0,max:L||100,step:.1,onValueChange:Q,className:"cursor-pointer"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:x,className:"text-white hover:text-accent-blue transition-colors",children:n?s.jsx(ae,{className:"w-6 h-6 fill-current"}):s.jsx(F,{className:"w-6 h-6 fill-current"})}),s.jsxs("div",{className:"flex items-center gap-2 group/volume",children:[s.jsx("button",{onClick:J,className:"text-white hover:text-accent-blue transition-colors",children:o||k===0?s.jsx(re,{className:"w-5 h-5"}):s.jsx(ne,{className:"w-5 h-5"})}),s.jsx("div",{className:"w-0 overflow-hidden group-hover/volume:w-24 transition-all duration-300",children:s.jsx(_,{value:o?0:k,min:0,max:1,step:.01,onValueChange:K,className:"w-20 ml-2"})})]}),s.jsxs("div",{className:"text-xs font-medium text-white/90 font-mono",children:[T(b)," / ",T(L)]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:Y,className:"text-white hover:text-accent-blue transition-colors",children:S?s.jsx(ce,{className:"w-5 h-5"}):s.jsx(le,{className:"w-5 h-5"})})})]})]})})]})};A.__docgenInfo={description:"",methods:[],displayName:"VideoPlayer",props:{src:{required:!0,tsType:{name:"string"},description:""},poster:{required:!1,tsType:{name:"string"},description:""},autoPlay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},loop:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},muted:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const ke={title:"Data Display/VideoPlayer",component:A,parameters:{layout:"centered"},tags:[]},p="https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",ue="https://storage.googleapis.com/gtv-videos-bucket/sample/images/BigBuckBunny.jpg",c={args:{src:p,poster:ue,className:"w-[800px]"}},u={args:{src:p,autoPlay:!0,muted:!0,className:"w-[800px]"}},m={args:{src:p,loop:!0,className:"w-[800px]"}},d={args:{src:p,className:"w-[400px]"}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    poster: samplePoster,
    className: "w-[800px]"
  }
}`,...c.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    autoPlay: true,
    muted: true,
    className: "w-[800px]"
  }
}`,...u.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    loop: true,
    className: "w-[800px]"
  }
}`,...m.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    src: sampleVideo,
    className: "w-[400px]"
  }
}`,...d.parameters?.docs?.source}}};const Se=["Default","AutoPlayMuted","Loop","Small"];export{u as AutoPlayMuted,c as Default,m as Loop,d as Small,Se as __namedExportsOrder,ke as default};
