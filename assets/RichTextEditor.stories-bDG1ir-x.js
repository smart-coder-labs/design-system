import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as s}from"./iframe-B-5hg53G.js";import{c as d}from"./utils-CDN07tui.js";import{B as M,I as C}from"./italic-DTPcAy8r.js";import{c as x}from"./createLucideIcon-CJTSccXv.js";import{m as E}from"./proxy-BFtQK4Qy.js";import"./preload-helper-PPVm8Dsz.js";const q=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],R=x("text-align-center",q);const S=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],B=x("text-align-end",S);const L=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],D=x("text-align-start",L);const I=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],A=x("underline",I),i=({value:t="",onChange:n,placeholder:a="Start typing...",label:b,error:l,helperText:h,disabled:c=!1,className:_,minHeight:j="150px"})=>{const r=s.useRef(null),[T,g]=s.useState(!1);s.useEffect(()=>{if(r.current&&r.current.innerHTML!==t){if(t===""&&r.current.innerHTML==="<br>")return;r.current.innerHTML=t}},[t]);const v=()=>{r.current&&n&&n(r.current.innerHTML)},N=(f,y=void 0)=>{document.execCommand(f,!1,y),r.current?.focus(),v()},o=({icon:f,command:y,arg:k,title:H})=>e.jsx("button",{type:"button",onMouseDown:w=>w.preventDefault(),onClick:()=>N(y,k),disabled:c,className:"p-1.5 rounded-md text-text-tertiary hover:text-text-primary hover:bg-surface-tertiary transition-colors focus:outline-none disabled:opacity-50",title:H,children:e.jsx(f,{className:"w-4 h-4"})});return e.jsxs("div",{className:d("w-full space-y-2",_),children:[b&&e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:b}),e.jsxs("div",{className:d("w-full rounded-xl border bg-surface-primary overflow-hidden transition-all",T?"ring-2 ring-accent-blue/20 border-accent-blue":"border-border-primary",l?"border-status-error focus-within:border-status-error focus-within:ring-status-error/20":"",c?"opacity-50 cursor-not-allowed bg-surface-secondary":""),children:[e.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-border-primary bg-surface-secondary/50",children:[e.jsx(o,{icon:M,command:"bold",title:"Bold"}),e.jsx(o,{icon:C,command:"italic",title:"Italic"}),e.jsx(o,{icon:A,command:"underline",title:"Underline"}),e.jsx("div",{className:"w-px h-4 bg-border-primary mx-1"}),e.jsx(o,{icon:D,command:"justifyLeft",title:"Align Left"}),e.jsx(o,{icon:R,command:"justifyCenter",title:"Align Center"}),e.jsx(o,{icon:B,command:"justifyRight",title:"Align Right"})]}),e.jsx("div",{ref:r,contentEditable:!c,onInput:v,onFocus:()=>g(!0),onBlur:()=>g(!1),className:d("w-full p-4 outline-none text-text-primary max-w-none","[&_b]:font-bold [&_strong]:font-bold","[&_i]:italic [&_em]:italic","[&_u]:underline","[&_h1]:text-2xl [&_h1]:font-bold [&_h1]:mb-2","[&_h2]:text-xl [&_h2]:font-bold [&_h2]:mb-2","[&_h3]:text-lg [&_h3]:font-bold [&_h3]:mb-1","[&_blockquote]:border-l-4 [&_blockquote]:border-border-secondary [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:my-2",c&&"cursor-not-allowed"),style:{minHeight:j},"data-placeholder":a})]}),(l||h)&&e.jsx(E.p,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},className:d("text-sm",l?"text-status-error":"text-text-secondary"),children:l||h})]})};i.displayName="RichTextEditor";i.__docgenInfo={description:"",methods:[],displayName:"RichTextEditor",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(html: string) => void",signature:{arguments:[{type:{name:"string"},name:"html"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Start typing...'",computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},helperText:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},minHeight:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'150px'",computed:!1}}}};const G={title:"Forms/RichTextEditor",component:i,tags:[],argTypes:{disabled:{control:"boolean"},error:{control:"text"},helperText:{control:"text"},minHeight:{control:"text"}}},u={render:t=>{const[n,a]=s.useState("<p>Hello <b>World</b>!</p>");return e.jsxs("div",{className:"max-w-2xl",children:[e.jsx(i,{...t,value:n,onChange:a}),e.jsxs("div",{className:"mt-4 p-4 bg-surface-secondary rounded-lg",children:[e.jsx("h4",{className:"text-xs font-bold text-text-tertiary uppercase mb-2",children:"HTML Output:"}),e.jsx("code",{className:"text-xs text-text-secondary break-all",children:n})]})]})},args:{label:"Description",placeholder:"Write something amazing..."}},m={render:t=>{const[n,a]=s.useState("");return e.jsx("div",{className:"max-w-2xl",children:e.jsx(i,{...t,value:n,onChange:a})})},args:{label:"Bio",error:"Bio cannot be empty"}},p={args:{label:"Read Only Editor",value:"<p>This content is <u>read-only</u>.</p>",disabled:!0}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  render: args => {
    const [content, setContent] = useState('<p>Hello <b>World</b>!</p>');
    return <div className="max-w-2xl">
                <RichTextEditor {...args} value={content} onChange={setContent} />
                <div className="mt-4 p-4 bg-surface-secondary rounded-lg">
                    <h4 className="text-xs font-bold text-text-tertiary uppercase mb-2">HTML Output:</h4>
                    <code className="text-xs text-text-secondary break-all">{content}</code>
                </div>
            </div>;
  },
  args: {
    label: 'Description',
    placeholder: 'Write something amazing...'
  }
}`,...u.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: args => {
    const [content, setContent] = useState('');
    return <div className="max-w-2xl">
                <RichTextEditor {...args} value={content} onChange={setContent} />
            </div>;
  },
  args: {
    label: 'Bio',
    error: 'Bio cannot be empty'
  }
}`,...m.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Read Only Editor',
    value: '<p>This content is <u>read-only</u>.</p>',
    disabled: true
  }
}`,...p.parameters?.docs?.source}}};const J=["Default","WithError","Disabled"];export{u as Default,p as Disabled,m as WithError,J as __namedExportsOrder,G as default};
