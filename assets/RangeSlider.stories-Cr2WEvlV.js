import{j as p}from"./jsx-runtime-u17CrQMm.js";import{r as l}from"./iframe-B-5hg53G.js";import{c as y}from"./utils-CDN07tui.js";import"./preload-helper-PPVm8Dsz.js";function w(c,d,r){return Math.min(Math.max(c,d),r)}function O(c,d,r){return d<=0?c:Math.round((c-r)/d)*d+r}const E=l.forwardRef(({value:c,defaultValue:d,min:r=0,max:o=100,step:v=1,disabled:i=!1,onValueChange:k,onValueCommit:b,className:j,trackClassName:C,rangeClassName:A,thumbClassName:K},P)=>{const h=l.useCallback(e=>{const t=w(e[0],r,o),n=w(e[1],r,o),a=Math.min(t,n),u=Math.max(t,n);return[a,u]},[r,o]),[_,I]=l.useState(()=>h(d??[r,o])),s=c?h(c):_,L=l.useRef(null),[m,R]=l.useState(null),q=l.useCallback((e,t)=>{const n=h(e);c||I(n),k?.(n),t&&b?.(n)},[h,k,b,c]),M=e=>(e-r)/(o-r)*100,f=l.useCallback(e=>{if(m===null||i)return;const t="touches"in e?e.touches[0]:e,n=L.current;if(!n)return;const a=n.getBoundingClientRect(),u=(t.clientX-a.left)/a.width,g=r+u*(o-r),N=O(g,v,r),D=w(N,r,o),B=m===0?[D,s[1]]:[s[0],D];q(B)},[m,s,i,o,r,v,q]),V=l.useCallback(()=>{m!==null&&(R(null),b?.(s))},[m,s,b]);l.useEffect(()=>{if(m===null)return;const e=a=>f(a),t=a=>f(a),n=()=>V();return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),document.addEventListener("touchcancel",n),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n),document.removeEventListener("touchcancel",n)}},[m,f,V]);const S=e=>t=>{i||(t.preventDefault(),R(e),"touches"in t&&t.touches.length>0,f(t.nativeEvent))},$=e=>t=>{if(i)return;const n=["ArrowRight","ArrowUp"],a=["ArrowLeft","ArrowDown"];let u=0;if(n.includes(t.key)&&(u=v),a.includes(t.key)&&(u=-v),u!==0){t.preventDefault();const g=w(s[e]+u,r,o),N=e===0?[g,s[1]]:[s[0],g];q(N,!0)}},x=M(s[0]),F=M(s[1]);return p.jsxs("div",{ref:P,className:y("relative flex w-full touch-none select-none items-center",j),"aria-disabled":i||void 0,children:[p.jsx("div",{ref:L,className:y("relative h-1.5 w-full grow overflow-hidden rounded-full bg-surface-secondary",C),children:p.jsx("div",{className:y("absolute h-full bg-accent-blue",A),style:{left:`${x}%`,width:`${F-x}%`}})}),[0,1].map(e=>{const t=s[e],n=M(t),a=e===0?r:s[0],u=e===0?s[1]:o;return p.jsx("button",{type:"button",role:"slider","aria-valuemin":a,"aria-valuemax":u,"aria-valuenow":t,"aria-disabled":i||void 0,tabIndex:i?-1:0,onKeyDown:$(e),onMouseDown:S(e),onTouchStart:S(e),className:y("absolute block h-6 w-6 -translate-x-1/2 rounded-full border border-border-primary/10 bg-white shadow-md ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 transition-transform duration-200",K,i&&"pointer-events-none opacity-60"),style:{left:`${n}%`}},e)})]})});E.displayName="RangeSlider";E.__docgenInfo={description:"",methods:[],displayName:"RangeSlider",props:{value:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},defaultValue:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:""},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: [number, number]) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"value"}],return:{name:"void"}}},description:""},onValueCommit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: [number, number]) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"value"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},trackClassName:{required:!1,tsType:{name:"string"},description:""},rangeClassName:{required:!1,tsType:{name:"string"},description:""},thumbClassName:{required:!1,tsType:{name:"string"},description:""}}};const H={title:"Forms/RangeSlider",component:E,tags:[]},T={render:()=>p.jsx("div",{className:"w-[60%]",children:p.jsx(E,{defaultValue:[25,75],max:100,step:1})})};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:`{
  render: () => <div className="w-[60%]">
            <RangeSlider defaultValue={[25, 75]} max={100} step={1} />
        </div>
}`,...T.parameters?.docs?.source}}};const J=["Default"];export{T as Default,J as __namedExportsOrder,H as default};
