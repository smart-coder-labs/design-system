import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as h}from"./iframe-Dan5ncgG.js";import{c as a}from"./utils-CDN07tui.js";import{E as A}from"./eye-off-BrkEFYZ1.js";import{E as q}from"./eye-C7Hy6huj.js";import{m}from"./proxy-DCTGQFKY.js";import{C as P}from"./check-SmOBS8Tu.js";import{X as I}from"./x-CtAXLAxX.js";const k=[{regex:/.{8,}/,label:"At least 8 characters"},{regex:/[0-9]/,label:"Contains a number"},{regex:/[a-z]/,label:"Contains a lowercase letter"},{regex:/[A-Z]/,label:"Contains an uppercase letter"},{regex:/[^A-Za-z0-9]/,label:"Contains a special character"}],y=({label:d,value:s,onChange:b,error:n,helperText:p,showStrengthMeter:w=!0,strengthRequirements:l=k,className:j,disabled:c,...N})=>{const[u,v]=h.useState(!1),[x,g]=h.useState(!1),C=()=>{c||v(!u)},r=(t=>{let i=0;return l.forEach(o=>{o.regex.test(t)&&i++}),i})(s),f=l.length,S=r/f*100,E=t=>t<=1?"bg-status-error":t<=3?"bg-status-warning":"bg-status-success",T=t=>t===0?"":t<=1?"Weak":t<=3?"Medium":"Strong";return e.jsxs("div",{className:a("w-full space-y-2",j),children:[d&&e.jsx("label",{className:"block text-sm font-medium text-text-primary",children:d}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",value:s,onChange:t=>b(t.target.value),disabled:c,onFocus:()=>g(!0),onBlur:()=>g(!1),className:a("w-full h-10 px-4 pr-10 rounded-xl border bg-surface-primary text-text-primary transition-all","focus:outline-none focus:ring-2 focus:ring-accent-blue/20 focus:border-accent-blue","disabled:opacity-50 disabled:cursor-not-allowed",n?"border-status-error focus:border-status-error focus:ring-status-error/20":"border-border-primary"),...N}),e.jsx("button",{type:"button",onClick:C,disabled:c,className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-tertiary hover:text-text-primary transition-colors focus:outline-none disabled:opacity-50",children:u?e.jsx(A,{className:"w-4 h-4"}):e.jsx(q,{className:"w-4 h-4"})})]}),w&&s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:a("font-medium transition-colors",r<=1?"text-status-error":r<=3?"text-status-warning":"text-status-success"),children:T(r)}),e.jsxs("span",{className:"text-text-tertiary",children:[r,"/",f]})]}),e.jsx("div",{className:"h-1.5 w-full bg-surface-secondary rounded-full overflow-hidden",children:e.jsx(m.div,{className:a("h-full transition-colors duration-300",E(r)),initial:{width:0},animate:{width:`${S}%`},transition:{type:"spring",stiffness:300,damping:30}})}),e.jsx(m.div,{initial:!1,animate:{height:x||s.length>0?"auto":0,opacity:x||s.length>0?1:0},className:"overflow-hidden",children:e.jsx("ul",{className:"space-y-1 mt-2",children:l.map((t,i)=>{const o=t.regex.test(s);return e.jsxs("li",{className:"flex items-center gap-2 text-xs",children:[o?e.jsx(P,{className:"w-3 h-3 text-status-success"}):e.jsx(I,{className:"w-3 h-3 text-text-tertiary"}),e.jsx("span",{className:a("transition-colors",o?"text-text-secondary":"text-text-tertiary"),children:t.label})]},i)})})})]}),(n||p)&&e.jsx(m.p,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},className:a("text-sm",n?"text-status-error":"text-text-secondary"),children:n||p})]})};y.displayName="PasswordInput";y.__docgenInfo={description:"",methods:[],displayName:"PasswordInput",props:{label:{required:!1,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},error:{required:!1,tsType:{name:"string"},description:""},helperText:{required:!1,tsType:{name:"string"},description:""},showStrengthMeter:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},strengthRequirements:{required:!1,tsType:{name:"Array",elements:[{name:"StrengthRequirement"}],raw:"StrengthRequirement[]"},description:"",defaultValue:{value:`[
    { regex: /.{8,}/, label: 'At least 8 characters' },
    { regex: /[0-9]/, label: 'Contains a number' },
    { regex: /[a-z]/, label: 'Contains a lowercase letter' },
    { regex: /[A-Z]/, label: 'Contains an uppercase letter' },
    { regex: /[^A-Za-z0-9]/, label: 'Contains a special character' },
]`,computed:!1}}},composes:["Omit"]};export{y as P};
