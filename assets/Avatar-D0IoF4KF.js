import{j as c}from"./jsx-runtime-u17CrQMm.js";import{r as e}from"./iframe-vYzePaRW.js";import{c as w}from"./index-B_jtOnfb.js";import{c as m}from"./utils-CDN07tui.js";const p=w("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full transition-opacity hover:opacity-90",{variants:{size:{xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-16 w-16 text-xl","2xl":"h-24 w-24 text-2xl"},shape:{circle:"rounded-full",square:"rounded-lg"}},defaultVariants:{size:"md",shape:"circle"}}),f=e.createContext(null),x=e.forwardRef(({className:o,size:n,shape:l,children:t,...s},a)=>{const[d,u]=e.useState("idle"),i=e.useMemo(()=>({status:d,setStatus:u}),[d]);return c.jsx(f.Provider,{value:i,children:c.jsx("div",{ref:a,className:m(p({size:n,shape:l}),o),...s,children:t})})});x.displayName="Avatar";const v=e.forwardRef(({className:o,onError:n,onLoad:l,...t},s)=>{const a=e.useContext(f);if(!a)throw new Error("AvatarImage must be used within Avatar");const d=r=>{a.setStatus("loaded"),l?.(r)},u=r=>{a.setStatus("error"),n?.(r)};e.useEffect(()=>{if(!t.src){a.setStatus("error");return}const r=new Image;if(r.src=t.src,r.complete){a.setStatus("loaded");return}a.setStatus("loading")},[a,t.src]);const i=a.status==="loaded";return c.jsx("img",{ref:s,className:m("aspect-square h-full w-full object-cover",o),onLoad:d,onError:u,"aria-hidden":!i,style:i?void 0:{display:"none"},...t})});v.displayName="AvatarImage";const h=e.forwardRef(({className:o,...n},l)=>{const t=e.useContext(f);if(!t)throw new Error("AvatarFallback must be used within Avatar");const s=t.status!=="loaded";return c.jsx("div",{ref:l,"aria-hidden":!s,style:s?void 0:{display:"none"},className:m("flex h-full w-full items-center justify-center bg-surface-secondary text-text-secondary font-medium",o),...n})});h.displayName="AvatarFallback";x.__docgenInfo={description:"",methods:[],displayName:"Avatar",composes:["VariantProps"]};v.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};h.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};export{x as A,v as a,h as b};
