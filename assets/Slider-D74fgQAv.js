import{j as g}from"./jsx-runtime-u17CrQMm.js";import{r as i}from"./iframe-D5DOIGW8.js";import{c as h}from"./utils-CDN07tui.js";function y(o,c,t){return Math.min(Math.max(o,c),t)}function P(o,c,t){return c<=0?o:Math.round((o-t)/c)*c+t}const D=i.forwardRef(({value:o,defaultValue:c,min:t=0,max:s=100,step:f=1,disabled:u=!1,onValueChange:E,onValueCommit:m,className:N,trackClassName:S,rangeClassName:V,thumbClassName:x},M)=>{const[j,R]=i.useState(()=>y(c??t,t,s)),l=o!==void 0?y(o,t,s):j,T=i.useRef(null),[p,q]=i.useState(!1),C=e=>(e-t)/(s-t)*100,b=i.useCallback((e,a)=>{const n=y(e,t,s);o===void 0&&R(n),E?.(n),a&&m?.(n)},[s,t,E,m,o]),d=i.useCallback(e=>{const a=T.current;if(!a||u)return;const n="touches"in e?e.touches[0]:e,r=a.getBoundingClientRect(),w=(n.clientX-r.left)/r.width,I=t+w*(s-t),K=P(I,f,t);b(K)},[u,s,t,f,b]),L=i.useCallback(()=>{p&&(q(!1),m?.(l))},[l,p,m]);i.useEffect(()=>{if(!p)return;const e=r=>d(r),a=r=>d(r),n=()=>L();return document.addEventListener("mousemove",e),document.addEventListener("touchmove",a),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),document.addEventListener("touchcancel",n),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",a),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n),document.removeEventListener("touchcancel",n)}},[p,d,L]);const v=e=>{u||(e.preventDefault(),q(!0),"touches"in e&&e.touches.length>0,d(e.nativeEvent))},A=e=>{if(u)return;const a=["ArrowRight","ArrowUp"],n=["ArrowLeft","ArrowDown"];let r=0;if(a.includes(e.key)&&(r=f),n.includes(e.key)&&(r=-f),r!==0){e.preventDefault();const w=y(l+r,t,s);b(w,!0)}},k=C(l);return g.jsxs("div",{ref:M,className:h("relative flex w-full touch-none select-none items-center",N),"aria-disabled":u||void 0,children:[g.jsx("div",{ref:T,className:h("relative h-1.5 w-full grow overflow-hidden rounded-full bg-surface-secondary",S),onMouseDown:v,onTouchStart:v,children:g.jsx("div",{className:h("absolute h-full bg-accent-blue",V),style:{width:`${k}%`}})}),g.jsx("button",{type:"button",role:"slider","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":l,"aria-disabled":u||void 0,tabIndex:u?-1:0,onKeyDown:A,onMouseDown:v,onTouchStart:v,className:h("absolute block h-6 w-6 -translate-x-1/2 rounded-full border border-border-primary/10 bg-white shadow-md ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 transition-transform duration-200",x,u&&"pointer-events-none opacity-60"),style:{left:`${k}%`}})]})});D.displayName="Slider";D.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{value:{required:!1,tsType:{name:"number"},description:""},defaultValue:{required:!1,tsType:{name:"number"},description:""},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},onValueCommit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},trackClassName:{required:!1,tsType:{name:"string"},description:""},rangeClassName:{required:!1,tsType:{name:"string"},description:""},thumbClassName:{required:!1,tsType:{name:"string"},description:""}}};export{D as S};
