const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./jspdf.es.min-flzxrrfS.js","./preload-helper-PPVm8Dsz.js"])))=>i.map(i=>d[i]);
import{_}from"./preload-helper-PPVm8Dsz.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as k}from"./iframe-CGazvlvx.js";import{B as h}from"./Button-DiLt8not.js";import{F as H}from"./file-text-BEtjtG-0.js";import{S as G}from"./share-2-D-o2OcVr.js";import{c as M}from"./createLucideIcon-BMKVoASg.js";import{L as X}from"./loader-circle-awRxZ7yC.js";import{D as Q}from"./download-Ck7Je26J.js";import{C as J}from"./circle-alert-Cwnn9TMZ.js";import{C as K}from"./clock-DFcA33ui.js";import{C as Y}from"./circle-check-big-B5_XrEet.js";import"./proxy-BNOm_ZMq.js";import"./resolve-elements-juiWZL7b.js";const Z=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ee=M("printer",Z),q=({invoiceNumber:n,dateIssued:P,dueDate:S,status:l,from:s,to:r,items:C,subtotal:F,tax:A,taxRate:g,discount:y=0,total:f,currency:a="$",logo:b,notes:j,onDownload:v,onPrint:N,onShare:w,className:V=""})=>{const m=k.useRef(null),[x,I]=k.useState(!1),R=t=>{switch(t){case"paid":return"text-status-success bg-status-success/10 border-status-success/20";case"pending":return"text-status-warning bg-status-warning/10 border-status-warning/20";case"overdue":return"text-status-error bg-status-error/10 border-status-error/20";default:return"text-text-secondary bg-background-secondary border-border-primary"}},L=t=>{switch(t){case"paid":return e.jsx(Y,{className:"w-4 h-4"});case"pending":return e.jsx(K,{className:"w-4 h-4"});case"overdue":return e.jsx(J,{className:"w-4 h-4"});default:return null}},O=()=>{if(N){N();return}window.print()},E=async()=>{if(w){w();return}if(navigator.share)try{await navigator.share({title:`Invoice ${n}`,text:`Invoice ${n} from ${s.name}`,url:window.location.href})}catch(t){console.error("Error sharing:",t)}else try{await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch(t){console.error("Failed to copy:",t)}},$=async()=>{if(v){v();return}if(m.current)try{I(!0);const t=(await _(async()=>{const{default:p}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:p}},[],import.meta.url)).default,z=(await _(async()=>{const{default:p}=await import("./jspdf.es.min-flzxrrfS.js").then(W=>W.j);return{default:p}},__vite__mapDeps([0,1]),import.meta.url)).default,u=await t(m.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),B=u.toDataURL("image/png"),D=new z({orientation:"portrait",unit:"mm",format:"a4"}),T=210,U=u.height*T/u.width;D.addImage(B,"PNG",0,0,T,U),D.save(`invoice-${n}.pdf`)}catch(t){console.error("Error generating PDF:",t),alert("Failed to generate PDF. Please try again.")}finally{I(!1)}};return e.jsxs("div",{className:`bg-surface-primary rounded-2xl shadow-sm border border-border-primary overflow-hidden ${V}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-primary bg-background-secondary/30 print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent-blue/10 flex items-center justify-center",children:e.jsx(H,{className:"w-4 h-4 text-accent-blue"})}),e.jsx("span",{className:"font-semibold text-text-primary",children:"Invoice Preview"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:"ghost",size:"sm",onClick:E,leftIcon:e.jsx(G,{className:"w-4 h-4"}),children:"Share"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:O,leftIcon:e.jsx(ee,{className:"w-4 h-4"}),children:"Print"}),e.jsx(h,{variant:"outline",size:"sm",onClick:$,disabled:x,leftIcon:x?e.jsx(X,{className:"w-4 h-4 animate-spin"}):e.jsx(Q,{className:"w-4 h-4"}),children:x?"Generating...":"Download"})]})]}),e.jsxs("div",{ref:m,className:"p-8 md:p-12 bg-white",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8 mb-12",children:[e.jsxs("div",{children:[b?e.jsx("img",{src:b,alt:"Company Logo",className:"h-12 mb-4"}):e.jsx("div",{className:"h-12 w-12 bg-accent-blue/10 rounded-xl flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-xl font-bold text-accent-blue",children:s.name.charAt(0)})}),e.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Invoice"}),e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full border text-sm font-medium capitalize ${R(l)}`,children:[L(l),l]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-1",children:s.name}),e.jsxs("div",{className:"text-sm text-text-secondary space-y-1",children:[e.jsx("p",{children:s.address}),e.jsxs("p",{children:[s.city,", ",s.state," ",s.zip]}),e.jsx("p",{children:s.country}),s.email&&e.jsx("p",{children:s.email})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-4",children:"Bill To"}),e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:r.name}),e.jsxs("div",{className:"text-sm text-text-secondary space-y-1",children:[e.jsx("p",{children:r.address}),e.jsxs("p",{children:[r.city,", ",r.state," ",r.zip]}),e.jsx("p",{children:r.country}),r.email&&e.jsx("p",{children:r.email})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between md:justify-end gap-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-1",children:"Invoice Number"}),e.jsx("p",{className:"font-medium text-text-primary",children:n})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-1",children:"Date Issued"}),e.jsx("p",{className:"font-medium text-text-primary",children:P})]})]}),e.jsxs("div",{className:"flex justify-between md:justify-end gap-8",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-1",children:"Due Date"}),e.jsx("p",{className:"font-medium text-text-primary",children:S})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-1",children:"Amount Due"}),e.jsxs("p",{className:"font-bold text-xl text-text-primary",children:[a,f.toFixed(2)]})]})]})]})]}),e.jsx("div",{className:"mb-12 overflow-hidden rounded-xl border border-border-primary",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-background-secondary/50 border-b border-border-primary",children:[e.jsx("th",{className:"py-3 px-4 text-xs font-semibold text-text-tertiary uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"py-3 px-4 text-xs font-semibold text-text-tertiary uppercase tracking-wider text-right",children:"Qty"}),e.jsx("th",{className:"py-3 px-4 text-xs font-semibold text-text-tertiary uppercase tracking-wider text-right",children:"Price"}),e.jsx("th",{className:"py-3 px-4 text-xs font-semibold text-text-tertiary uppercase tracking-wider text-right",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-border-primary",children:C.map(t=>e.jsxs("tr",{className:"group hover:bg-background-secondary/30 transition-colors",children:[e.jsx("td",{className:"py-4 px-4 text-sm font-medium text-text-primary",children:t.description}),e.jsx("td",{className:"py-4 px-4 text-sm text-text-secondary text-right",children:t.quantity}),e.jsxs("td",{className:"py-4 px-4 text-sm text-text-secondary text-right",children:[a,t.price.toFixed(2)]}),e.jsxs("td",{className:"py-4 px-4 text-sm font-medium text-text-primary text-right",children:[a,t.total.toFixed(2)]})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:j&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:j})]})}),e.jsxs("div",{className:"w-full md:w-80 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-text-secondary",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-text-primary",children:[a,F.toFixed(2)]})]}),y>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-text-secondary",children:"Discount"}),e.jsxs("span",{className:"font-medium text-status-success",children:["-",a,y.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-text-secondary",children:["Tax ",g?`(${g}%)`:""]}),e.jsxs("span",{className:"font-medium text-text-primary",children:[a,A.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-baseline pt-4 mt-4 border-t border-border-primary",children:[e.jsx("span",{className:"text-base font-bold text-text-primary",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-text-primary",children:[a,f.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-border-dashed text-center",children:[e.jsx("p",{className:"text-sm text-text-tertiary",children:"Thank you for your business!"}),e.jsx("p",{className:"text-xs text-text-tertiary mt-1",children:"Please include invoice number on your check."})]})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"InvoicePreview",props:{invoiceNumber:{required:!0,tsType:{name:"string"},description:""},dateIssued:{required:!0,tsType:{name:"string"},description:""},dueDate:{required:!0,tsType:{name:"string"},description:""},status:{required:!0,tsType:{name:"union",raw:"'paid' | 'pending' | 'overdue'",elements:[{name:"literal",value:"'paid'"},{name:"literal",value:"'pending'"},{name:"literal",value:"'overdue'"}]},description:""},from:{required:!0,tsType:{name:"InvoiceParty"},description:""},to:{required:!0,tsType:{name:"InvoiceParty"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"InvoiceItem"}],raw:"InvoiceItem[]"},description:""},subtotal:{required:!0,tsType:{name:"number"},description:""},tax:{required:!0,tsType:{name:"number"},description:""},taxRate:{required:!1,tsType:{name:"number"},description:""},discount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},total:{required:!0,tsType:{name:"number"},description:""},currency:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'$'",computed:!1}},logo:{required:!1,tsType:{name:"string"},description:""},notes:{required:!1,tsType:{name:"string"},description:""},onDownload:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrint:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onShare:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}};const fe={title:"Components/InvoicePreview",component:q,parameters:{layout:"centered"},tags:[],argTypes:{status:{control:"select",options:["paid","pending","overdue"]}}},te=[{id:"1",description:"Web Design Services - Homepage Redesign",quantity:1,price:1500,total:1500},{id:"2",description:"Frontend Development (React/Next.js)",quantity:40,price:85,total:3400},{id:"3",description:"UI/UX Consultation",quantity:5,price:120,total:600}],se={name:"Acme Creative Studio",address:"123 Design District",city:"San Francisco",state:"CA",zip:"94103",country:"United States",email:"billing@acmecreative.com"},re={name:"TechStart Inc.",address:"456 Innovation Blvd, Suite 200",city:"Austin",state:"TX",zip:"78701",country:"United States",email:"accounts@techstart.io"},i={args:{invoiceNumber:"INV-2023-001",logo:"logo.jpg",dateIssued:"Oct 24, 2023",dueDate:"Nov 24, 2023",status:"pending",from:se,to:re,items:te,subtotal:5500,tax:440,taxRate:8,total:5940,notes:"Payment is due within 30 days. Late payments are subject to a 5% monthly fee."}},d={args:{...i.args,status:"paid",invoiceNumber:"INV-2023-002",dateIssued:"Sep 15, 2023",dueDate:"Oct 15, 2023"}},c={args:{...i.args,status:"overdue",invoiceNumber:"INV-2023-003",dateIssued:"Aug 01, 2023",dueDate:"Aug 31, 2023"}},o={args:{...i.args,discount:500,subtotal:5500,tax:400,total:5400}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  args: {
    invoiceNumber: 'INV-2023-001',
    logo: 'logo.jpg',
    dateIssued: 'Oct 24, 2023',
    dueDate: 'Nov 24, 2023',
    status: 'pending',
    from: sampleFrom,
    to: sampleTo,
    items: sampleItems,
    subtotal: 5500.00,
    tax: 440.00,
    taxRate: 8,
    total: 5940.00,
    notes: 'Payment is due within 30 days. Late payments are subject to a 5% monthly fee.'
  }
}`,...i.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    status: 'paid',
    invoiceNumber: 'INV-2023-002',
    dateIssued: 'Sep 15, 2023',
    dueDate: 'Oct 15, 2023'
  }
}`,...d.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    status: 'overdue',
    invoiceNumber: 'INV-2023-003',
    dateIssued: 'Aug 01, 2023',
    dueDate: 'Aug 31, 2023'
  }
}`,...c.parameters?.docs?.source}}};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    discount: 500.00,
    subtotal: 5500.00,
    tax: 400.00,
    // (5500 - 500) * 0.08
    total: 5400.00
  }
}`,...o.parameters?.docs?.source}}};const be=["Default","Paid","Overdue","WithDiscount"];export{i as Default,c as Overdue,d as Paid,o as WithDiscount,be as __namedExportsOrder,fe as default};
