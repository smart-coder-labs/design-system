import{j as o}from"./jsx-runtime-u17CrQMm.js";import{r as l}from"./iframe-Cb93e_Z8.js";import{c as k}from"./utils-CDN07tui.js";import"./preload-helper-PPVm8Dsz.js";const A=l.createContext(null);function W(){const d=l.useContext(A);if(!d)throw new Error("ScrollArea components must be used within ScrollArea");return d}const R=l.forwardRef(({className:d,children:u,...v},c)=>{const m=l.useRef(null);return o.jsx(A.Provider,{value:{viewportRef:m},children:o.jsxs("div",{ref:c,className:k("relative overflow-hidden",d),...v,children:[o.jsx("div",{ref:m,className:"h-full w-full rounded-[inherit] overflow-auto",children:u}),o.jsx(z,{orientation:"vertical"}),o.jsx(z,{orientation:"horizontal"})]})})});R.displayName="ScrollArea";const z=l.forwardRef(({className:d,orientation:u="vertical"},v)=>{const{viewportRef:c}=W(),m=l.useRef(null),S=l.useRef(null),t=u==="vertical",h=l.useCallback(()=>{const r=c.current,e=m.current,n=S.current;if(!r||!e||!n)return;const s=t?r.scrollHeight:r.scrollWidth,i=t?r.clientHeight:r.clientWidth,p=t?r.scrollTop:r.scrollLeft,f=t?e.clientHeight:e.clientWidth;if(s<=i){n.style.display="none";return}n.style.display="block";const a=Math.max(i/s*f,24),x=f-a,g=Math.min(x,p/(s-i)*x);t?(n.style.height=`${a}px`,n.style.transform=`translateY(${g}px)`):(n.style.width=`${a}px`,n.style.transform=`translateX(${g}px)`)},[t,c]);l.useEffect(()=>{const r=c.current;if(!r)return;h();const e=()=>h(),n=()=>h();return r.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",n),()=>{r.removeEventListener("scroll",e),window.removeEventListener("resize",n)}},[h,c]),l.useEffect(()=>{h()},[h]);const T=r=>{r.preventDefault();const e=c.current,n=m.current,s=S.current;if(!e||!n||!s)return;const i=n.getBoundingClientRect(),p=s.getBoundingClientRect(),f=t?r.clientY-i.top:r.clientX-i.left,a=t?p.height:p.width,x=t?e.clientHeight:e.clientWidth,b=(t?e.scrollHeight:e.scrollWidth)-x,j=t?n.clientHeight:n.clientWidth,y=(f-a/2)/(j-a),w=Math.max(0,Math.min(1,y))*b;t?e.scrollTop=w:e.scrollLeft=w},M=r=>{r.preventDefault();const e=c.current,n=m.current,s=S.current;if(!e||!n||!s)return;const i=t?r.clientY:r.clientX,p=t?e.scrollTop:e.scrollLeft,f=t?n.clientHeight:n.clientWidth,a=t?s.clientHeight:s.clientWidth,x=t?e.scrollHeight:e.scrollWidth,g=t?e.clientHeight:e.clientWidth,b=Math.max(0,x-g),j=Math.max(1,f-a),y=E=>{const H=((t?E.clientY:E.clientX)-i)/j,L=Math.max(0,Math.min(b,p+H*b));t?e.scrollTop=L:e.scrollLeft=L},w=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",w)};return o.jsx("div",{ref:v,role:"presentation",className:k("absolute flex touch-none select-none transition-colors",t?"right-0 top-0 h-full w-2.5 p-[1px]":"left-0 bottom-0 w-full h-2.5 p-[1px] flex-col",d),onMouseDown:T,children:o.jsx("div",{ref:m,className:k("relative flex-1 rounded-full bg-transparent",t?"w-full":"h-full"),children:o.jsx("div",{ref:S,onMouseDown:r=>{r.stopPropagation(),M(r)},className:"absolute rounded-full bg-border-primary hover:bg-text-tertiary transition-colors",style:t?{width:"100%",top:0,height:24}:{height:"100%",left:0,width:24}})})})});z.displayName="ScrollBar";R.__docgenInfo={description:"",methods:[],displayName:"ScrollArea",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};z.__docgenInfo={description:"",methods:[],displayName:"ScrollBar",props:{orientation:{required:!1,tsType:{name:"union",raw:'"vertical" | "horizontal"',elements:[{name:"literal",value:'"vertical"'},{name:"literal",value:'"horizontal"'}]},description:"",defaultValue:{value:'"vertical"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const Y={title:"Layout/ScrollArea",component:R,tags:[]},N={render:()=>o.jsxs(R,{className:"h-[200px] w-[350px] rounded-md border p-4",children:[o.jsx("div",{className:"mb-4 text-sm font-medium leading-none",children:"Tags"}),Array.from({length:50}).map((d,u,v)=>o.jsxs("div",{className:"text-sm",children:["v1.2.0-beta.",v.length-u,o.jsx("div",{className:"my-2 h-px bg-border-primary"})]},u))]})};N.parameters={...N.parameters,docs:{...N.parameters?.docs,source:{originalSource:`{
  render: () => <ScrollArea className="h-[200px] w-[350px] rounded-md border p-4">
            <div className="mb-4 text-sm font-medium leading-none">Tags</div>
            {Array.from({
      length: 50
    }).map((_, i, a) => <div key={i} className="text-sm">
                    v1.2.0-beta.{a.length - i}
                    <div className="my-2 h-px bg-border-primary" />
                </div>)}
        </ScrollArea>
}`,...N.parameters?.docs?.source}}};const $=["Default"];export{N as Default,$ as __namedExportsOrder,Y as default};
